import{j as m,r as o,A as h,R as p,a as b}from"./vendor.53ce0755.js";const g=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))d(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&d(l)}).observe(document,{childList:!0,subtree:!0});function a(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function d(r){if(r.ep)return;r.ep=!0;const n=a(r);fetch(r.href,n)}};g();const y={debugItems:[{name:"GPS RTK status",state:"Fixed"},{name:"TRACK status",state:"On"}]},v="_table_176v2_1";var x={table:v};const s=m.exports.jsx,c=m.exports.jsxs;class _ extends o.exports.Component{render(){return s("table",{style:{gridTemplateColumns:`repeat(${this.props.columns}, 1fr)`},className:x.table,children:this.props.children})}}const w="_header_1rzw6_1";var k={header:w};class T extends o.exports.Component{render(){return s("thead",{children:this.props.headers.map((e,a)=>s("th",{className:k.header,children:e},a))})}}class C extends o.exports.Component{render(){return s("tbody",{children:this.props.children})}}const N="_row_d10ys_1";var R={row:N};class O extends o.exports.Component{render(){return s("tr",{className:R.row,children:this.props.children})}}var i={"data-cell":"_data-cell_2wvbm_1","data-cell-name":"_data-cell-name_2wvbm_8","data-cell-unknown":"_data-cell-unknown_2wvbm_11","data-cell-critical":"_data-cell-critical_2wvbm_25","data-cell-good":"_data-cell-good_2wvbm_39","data-cell-bad":"_data-cell-bad_2wvbm_53"};class f extends o.exports.Component{render(){return s("td",{className:`${i["data-cell"]} ${i[`data-cell-${this.props.type}`]}`,children:this.props.content})}}const A=(t,e)=>t==="GPS RTK status"&&(e==null?void 0:e.rtkStatus)===void 0?["-","unknown"]:t==="GPS RTK status"&&(e==null?void 0:e.rtkStatus)===!0?["Fixed","good"]:t==="GPS RTK status"&&(e==null?void 0:e.rtkStatus)===!1?["Disable","bad"]:t==="TRACK status"&&(e==null?void 0:e.trackStatus)===void 0?["-","unknown"]:t==="TRACK status"&&(e==null?void 0:e.trackStatus)===!0?["On","good"]:t==="TRACK status"&&(e==null?void 0:e.trackStatus)===!1?["Off","bad"]:["-","unknown"],$=({tableHeaders:t,topicStats:e})=>c(_,{columns:t.length,children:[s(T,{headers:t}),s(C,{children:y.debugItems.map((a,d)=>{const r=A(a.name,e);return c(O,{children:[s(f,{content:a.name}),s(f,{content:r[0].toString(),type:r[1]})]},d)})})]}),K=()=>{o.exports.useState("Waiting for data...");const[t,e]=o.exports.useState({rtkStatus:void 0,trackStatus:void 0});o.exports.useEffect(()=>{h.addModuleDataListener(a)},[]);const a=async d=>{const r=d.streams;if(Object.keys(r).length===0)throw new Error("No streams.");let n=t;Object.keys(r).forEach((l,P)=>{const u=j(r,l);typeof u!="string"&&u!==void 0&&(r[l].data[0].name==="rtk.status"&&(n.rtkStatus=u.values[0]),r[l].data[0].name==="track.status"&&(n.trackStatus=u.values[0])),JSON.stringify(n)!==JSON.stringify(t)&&e(n)})};return s($,{topicStats:t,tableHeaders:["Item","Status"]})},j=(t,e)=>{if(t[e]===void 0)return"No stream.";if(t[e].loading)return;if(t[e].tooMuchData)return"Too much data.";if(t[e].data.length===0)return"No data.";const a=t[e].data[0].points.at(-1);return a?a[1]:"No datapoints."};function L(){return s("div",{className:"App",children:s(K,{})})}p.render(s(b.StrictMode,{children:s(L,{})}),document.getElementById("root"));
